Arelin.Thing.handle_shields(hit_dmg: F64, self: Arelin.Thing): Arelin.Thing
  let self.buf      = Arelin.Thing.get_buf(self)
  let self.dmg      = Arelin.Thing.get_dmg(self)
  let init_val      = Pair.new<><>(hit_dmg, List.nil<>)
  let res           = List.foldr<><>(init_val, Arelin.Game.use_shields, self.buf)
  let remaining_dmg = F64.add(Pair.fst<><>(res), self.dmg)
  let remaining_buf = Pair.snd<><>(res)
  let self          = Arelin.Thing.set_dmg(self, remaining_dmg)
  let self          = Arelin.Thing.set_buf(self, remaining_buf)
  self 