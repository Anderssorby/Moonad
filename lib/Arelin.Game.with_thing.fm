Arelin.Game.with_thing(
  pid : Arelin.Game.PlayerId,
  fn  : Arelin.Game.TxFunction,
  gm  : Arelin.Game
  ) : Arelin.Game
  let effect = ((thi)
    let thi.pid = Arelin.Thing.get_pid(thi)
    case F64.eql(thi.pid, pid):
    | #true#  fn(thi);
    | #false# thi;
  ) :: Arelin.Game.TxFunction 
  Arelin.Game.map_stage(effect, gm)